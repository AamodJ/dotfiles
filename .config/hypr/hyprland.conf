exec-once = $HOME/.config/hypr/services

monitor = , preferred, auto, 1.7
workspace = DP-1, 1

input {
    kb_file = 
    kb_layout = 
    kb_variant = 
    kb_model = 
    kb_options = caps:escape, shift:both_capslock
    kb_rules = 

	repeat_rate = 70
	repeat_delay = 250
    follow_mouse = 1
	
    touchpad {
        natural_scroll = yes
		tap-to-click = true
		disable_while_typing = true
		clickfinger_behavior = true
		scroll_factor = 0.25
    }

    sensitivity = 0.2 # -1.0 - 1.0,  0 means no modification.
}

general {
    gaps_in = 5
    gaps_out = 10
    border_size = 2
	col.active_border = 0xFFcf65f2
    col.inactive_border = 0xFFc3a9cc

	cursor_inactive_timeout = 2

    apply_sens_to_raw = 0 # whether to apply the sensitivity to raw input (e.g. used by games where you aim using your mouse)

    damage_tracking = full # leave it on full unless you hate your GPU and want to make it suffer
	layout = master
}

binds {
	# Make sure changing to previous workspaces work
	allow_workspace_cycles = true
}

decoration {
    rounding = 5
	blur = 1
    blur_size = 7
    blur_passes = 2
    blur_new_optimizations = 1
	dim_inactive = true
	dim_strength = 0.25
    drop_shadow = 1
    shadow_range = 20
    shadow_render_power = 2
    shadow_ignore_window = 1
    shadow_offset =  8 8
    col.shadow = 0x44000000
}

animations {
    enabled = 1
	bezier = overshot, 0.13, 0.99, 0.29, 1
    animation = windows, 1, 5, overshot, slide
    animation = workspaces, 1, 6, overshot, slide
}

dwindle {
    pseudotile = 0 # enable pseudotiling on dwindle
	togglegroup
}

master {
	new_on_top = true
	new_is_master = true
}

gestures {
    workspace_swipe = yes
}

misc {
	disable_hyprland_logo = true
	mouse_move_enables_dpms = true
    # figure out window swallowing
}

# window rules
windowrule = float, Rofi
windowrulev2 = float, class:^(jamesdsp)$
windowrulev2 = size 735 429, class:^(jamesdsp)$
windowrulev2 = tile, title:^(Spotify)$
windowrulev2 = float, title:^(Firefox — Sharing Indicator)$
windowrulev2 = move 17% 9, title:^(Firefox — Sharing Indicator)$
windowrulev2 = minsize 50 20, title:^(Firefox — Sharing Indicator)$
windowrulev2 = maxsize 50 20, title:^(Firefox — Sharing Indicator)$
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = move 1047 677, title:^(Picture-in-Picture)$
windowrulev2 = size 443 249, title:^(Picture-in-Picture)$

# some nice mouse binds
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# example binds
bind = SUPER, Return, exec, kitty
bind = SUPER, c, exec, firefox
bind = SUPER, s, exec, spotify
bind = ALT, q, killactive, 
bind = SUPERSHIFT, q, exit, 
bind = SUPER, E, exec, nautilus
bind = ALT, s, togglefloating, 
bind = ALT, f, fullscreen, 0
bind = SUPER, m, pin, 
bind = SUPER, P, pseudo, 
bind = ALT, RETURN, togglespecialworkspace, 
bind = SUPERALT, RETURN, movetoworkspace, special
bind = SUPER, BACKSPACE, exec, lockscreen
bind = SUPER, n, exec, swaync-client -t

# Mounting and unmount phones
bind = SUPER, O, exec, mtp mount
bind = SUPERSHIFT, O, exec, mtp unmount

# rofi binds
bind = ALT, SPACE, exec, rofi -terminal kitty -show drun 
bind = SUPERALT, m, exec, rofi -show run
bind = SUPER, SPACE, exec, rofi -show calc -no-show-match -no-sort

# macOS like screenshots
bind = SUPERSHIFT, 4, exec, slurp | grim -g - $(xdg-user-dir PICTURES)/Screenshots/$(date +'%Y%m%d%H%M%S.png') && notify-send 'Screenshot Saved' 'Copied to clipboard'
bind = SUPERSHIFT, 3, exec, grim $(xdg-user-dir PICTURES)/Screenshots/$(date +'%Y%m%d%H%M%S.png') && notify-send 'Screenshot Saved' 'Copied to clipboard'

# Master Layout binds
bind = CTRL, j, layoutmsg, cyclenext
bind = CTRL, k, layoutmsg, cycleprev

bind = SUPER, j, layoutmsg, swapwithmaster
bind = SUPER, k, layoutmsg, swapwithmaster

bind = SUPER, h, movefocus, l
bind = SUPER, l, movefocus, r
#bind = SUPER, k, movefocus, u
#bind = SUPER, j, movefocus, d

bind = CTRL, 1, workspace, 1
bind = CTRL, 2, workspace, 2
bind = CTRL, 3, workspace, 3
bind = CTRL, 4, workspace, 4
bind = CTRL, 5, workspace, 5
bind = CTRL, 6, workspace, 6
bind = CTRL, 7, workspace, 7
bind = CTRL, 8, workspace, 8
bind = CTRL, 9, workspace, 9
bind = CTRL, 0, workspace, 10

bind = CTRLSHIFT, 1, movetoworkspace, 1
bind = CTRLSHIFT, 2, movetoworkspace, 2
bind = CTRLSHIFT, 3, movetoworkspace, 3
bind = CTRLSHIFT, 4, movetoworkspace, 4
bind = CTRLSHIFT, 5, movetoworkspace, 5
bind = CTRLSHIFT, 6, movetoworkspace, 6
bind = CTRLSHIFT, 7, movetoworkspace, 7
bind = CTRLSHIFT, 8, movetoworkspace, 8
bind = CTRLSHIFT, 9, movetoworkspace, 9
bind = CTRLSHIFT, 0, movetoworkspace, 10

bind = CTRL, SPACE, workspace, previous
bind = SUPER, mouse_down, workspace, e+1
bind = SUPER, mouse_up, workspace, e-1

bind = , XF86AudioRaiseVolume, exec, sink up
bind = , XF86AudioLowerVolume, exec, sink down
bind = , XF86AudioMute, exec, sink togglemute

bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# Fan control
bind = SUPERALT, a, exec, sudo ablast
bind = SUPERALT, f, exec, sudo fblast

bind = , XF86MonBrightnessUp, exec, backlight monup
bind = , XF86MonBrightnessDown, exec, backlight mondown
bind = SUPER, w,exec, backlight setmon

bind = , XF86KbdBrightnessUp, exec, backlight kbdup
bind = , XF86KbdBrightnessDown, exec, backlight kbddown

bind = SUPER, 1, exec, sink speakers
bind = SUPER, 2, exec, sink fiiO
bind = SUPER, 3, exec, sink bluetooth

# Make sure swaylock starts upon lid close
bindl = , switch:Lid Switch, exec, lockscreen

# OBS hotkeys
bind = SUPERSHIFT, r, pass, ^(com.obsproject.Studio)$
bind = SUPERSHIFT, t, pass, ^(com.obsproject.Studio)$

# Testing
#bind = MOD4, u, exec, notify-send "Hello"
